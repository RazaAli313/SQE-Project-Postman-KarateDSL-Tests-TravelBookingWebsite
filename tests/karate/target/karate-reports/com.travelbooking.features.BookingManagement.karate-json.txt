{"failedCount":2,"prefixedPath":"classpath:com\/travelbooking\/features\/BookingManagement.feature","packageQualifiedName":"com.travelbooking.features.BookingManagement","loopIndex":-1,"relativePath":"com\/travelbooking\/features\/BookingManagement.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":150892997,"millis":150.892997,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'http:\/\/localhost:3000\/api\/v1'"}},{"result":{"nanos":32675868,"millis":32.675868,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":996794,"millis":0.996794,"status":"passed"},"step":{"line":8,"prefix":"Given","index":0,"text":"path 'booking\/create'"}},{"result":{"nanos":82655603,"millis":82.655603,"status":"passed"},"step":{"line":9,"prefix":"And","index":1,"text":"request { fullName: 'John Doe', age: 30, gender: 'Male', address: '123 Main Street, City', adharNumber: '123456789012', place: '507f1f77bcf86cd799439011', hotel: '507f1f77bcf86cd799439011', flight: '507f1f77bcf86cd799439011', numOfTickets: 2 }"}},{"result":{"nanos":915569512,"millis":915.569512,"status":"passed"},"step":{"line":10,"prefix":"When","index":2,"text":"method POST"},"stepLog":"17:59:35.698 request:\n1 > POST http:\/\/localhost:3000\/api\/v1\/booking\/create\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 234\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.17)\n1 > Accept-Encoding: gzip,deflate\n{\"fullName\":\"John Doe\",\"age\":30,\"gender\":\"Male\",\"address\":\"123 Main Street, City\",\"adharNumber\":\"123456789012\",\"place\":\"507f1f77bcf86cd799439011\",\"hotel\":\"507f1f77bcf86cd799439011\",\"flight\":\"507f1f77bcf86cd799439011\",\"numOfTickets\":2}\n\n17:59:35.867 response time in milliseconds: 150\n1 < 404\n1 < X-Powered-By: Express\n1 < Vary: Origin\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 76\n1 < ETag: W\/\"4c-KC66jPik79+fd9wE7h8mJjlQp6Q\"\n1 < Date: Sun, 14 Dec 2025 12:59:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"error\",\"message\":\"Place, hotel, or flight not found\",\"errors\":[]}\n\n"},{"result":{"nanos":28043434,"errorMessage":"status code was: 404, expected: 200, response time in milliseconds: 150, url: http:\/\/localhost:3000\/api\/v1\/booking\/create, response: \n{\"status\":\"error\",\"message\":\"Place, hotel, or flight not found\",\"errors\":[]}\nclasspath:com\/travelbooking\/features\/BookingManagement.feature:11","millis":28.043434,"status":"failed"},"step":{"line":11,"prefix":"Then","index":3,"text":"status 200"},"stepLog":"17:59:35.910 classpath:com\/travelbooking\/features\/BookingManagement.feature:11\nThen status 200\nstatus code was: 404, expected: 200, response time in milliseconds: 150, url: http:\/\/localhost:3000\/api\/v1\/booking\/create, response: \n{\"status\":\"error\",\"message\":\"Place, hotel, or flight not found\",\"errors\":[]}\nclasspath:com\/travelbooking\/features\/BookingManagement.feature:11\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"And","index":4,"text":"match response.data != null"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":13,"prefix":"*","index":5,"text":"def transactionId = response.data.transactionId"}}],"line":7,"description":"","durationMillis":1210.834208,"failed":true,"error":"status code was: 404, expected: 200, response time in milliseconds: 150, url: http:\/\/localhost:3000\/api\/v1\/booking\/create, response: \n{\"status\":\"error\",\"message\":\"Place, hotel, or flight not found\",\"errors\":[]}\nclasspath:com\/travelbooking\/features\/BookingManagement.feature:11","executorName":"main","name":"Create booking with valid data","startTime":1765717174669,"refId":"[1:7]","endTime":1765717175910,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":1991768,"millis":1.991768,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'http:\/\/localhost:3000\/api\/v1'"}},{"result":{"nanos":798689,"millis":0.798689,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":1441012,"millis":1.441012,"status":"passed"},"step":{"comments":["# This test requires a valid transactionId from create booking","# For now, we'll test with an invalid transactionId to verify error handling"],"line":18,"prefix":"Given","index":0,"text":"path 'booking\/total-amount'"}},{"result":{"nanos":653911,"millis":0.653911,"status":"passed"},"step":{"line":19,"prefix":"And","index":1,"text":"request { transactionId: 'test-transaction-id-12345' }"}},{"result":{"nanos":29278894,"millis":29.278894,"status":"passed"},"step":{"line":20,"prefix":"When","index":2,"text":"method POST"},"stepLog":"17:59:35.977 request:\n1 > POST http:\/\/localhost:3000\/api\/v1\/booking\/total-amount\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 45\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.17)\n1 > Accept-Encoding: gzip,deflate\n{\"transactionId\":\"test-transaction-id-12345\"}\n\n17:59:35.997 response time in milliseconds: 18\n1 < 401\n1 < X-Powered-By: Express\n1 < Vary: Origin\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 93\n1 < ETag: W\/\"5d-5E4WTR8sF7+\/aoW6S3Vc\/2wpROg\"\n1 < Date: Sun, 14 Dec 2025 12:59:35 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"error\",\"message\":\"transactionId is expired\",\"errors\":[\"transactionId is expired\"]}\n\n"},{"result":{"nanos":14005,"millis":0.014005,"status":"passed"},"step":{"line":21,"prefix":"Then","index":3,"text":"status 401"}},{"result":{"nanos":33007805,"millis":33.007805,"status":"passed"},"step":{"line":22,"prefix":"And","index":4,"text":"match response.message contains 'expired'"}}],"executorName":"main","line":15,"name":"Get total amount for booking","description":"","durationMillis":67.186084,"startTime":1765717175967,"failed":false,"refId":"[2:15]","endTime":1765717176035,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":2734729,"millis":2.734729,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'http:\/\/localhost:3000\/api\/v1'"}},{"result":{"nanos":593894,"millis":0.593894,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":152153245,"millis":152.153245,"status":"passed"},"step":{"line":25,"prefix":"*","index":0,"text":"def userTimestamp = new java.util.Date().getTime()"}},{"result":{"nanos":43463815,"millis":43.463815,"status":"passed"},"step":{"line":26,"prefix":"*","index":1,"text":"def userEmail = 'user' + userTimestamp.toString() + '@example.com'"}},{"result":{"nanos":760532,"millis":0.760532,"status":"passed"},"step":{"line":27,"prefix":"Given","index":2,"text":"path 'users\/register'"}},{"result":{"nanos":426337,"millis":0.426337,"status":"passed"},"step":{"line":28,"prefix":"And","index":3,"text":"request { fullname: 'Test User', email: userEmail, password: 'Test@123456', isVerified: true }"}},{"result":{"nanos":118344782,"millis":118.344782,"status":"passed"},"step":{"line":29,"prefix":"When","index":4,"text":"method POST"},"stepLog":"17:59:36.265 request:\n1 > POST http:\/\/localhost:3000\/api\/v1\/users\/register\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 87\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.17)\n1 > Accept-Encoding: gzip,deflate\n{\"fullname\":\"Test User\",\"email\":\"userEmail\",\"password\":\"Test@123456\",\"isVerified\":true}\n\n17:59:36.378 response time in milliseconds: 113\n1 < 500\n1 < X-Powered-By: Express\n1 < Vary: Origin\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 135\n1 < ETag: W\/\"87-d+ngQweWPXbYQJTFC0\/+lAtAd4U\"\n1 < Date: Sun, 14 Dec 2025 12:59:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\n\n"},{"result":{"nanos":115828,"errorMessage":"status code was: 500, expected: 201, response time in milliseconds: 113, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/BookingManagement.feature:30","millis":0.115828,"status":"failed"},"step":{"line":30,"prefix":"Then","index":5,"text":"status 201"},"stepLog":"17:59:36.382 classpath:com\/travelbooking\/features\/BookingManagement.feature:30\nThen status 201\nstatus code was: 500, expected: 201, response time in milliseconds: 113, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/BookingManagement.feature:30\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":31,"prefix":"Given","index":6,"text":"path 'users\/login'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":32,"prefix":"And","index":7,"text":"request { email: userEmail, password: 'Test@123456' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":33,"prefix":"When","index":8,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":34,"prefix":"*","index":9,"text":"def authToken = response.data.token || ''"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":35,"prefix":"Given","index":10,"text":"path 'booking\/save-booking'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":36,"prefix":"And","index":11,"text":"header Authorization = 'Bearer ' + authToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":37,"prefix":"And","index":12,"text":"request { bookingId: '507f1f77bcf86cd799439011', userId: response.data.user._id || '507f1f77bcf86cd799439012', totalAmount: 1000 }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"When","index":13,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"Then","index":14,"text":"status 201"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":15,"text":"match response.message contains 'successfully'"}}],"line":24,"description":"","durationMillis":318.593162,"failed":true,"error":"status code was: 500, expected: 201, response time in milliseconds: 113, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/BookingManagement.feature:30","executorName":"main","name":"Save booking details - Authenticated user","startTime":1765717176062,"refId":"[3:24]","endTime":1765717176382,"exampleIndex":-1},{"sectionIndex":3,"stepResults":[{"result":{"nanos":777137,"millis":0.777137,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'http:\/\/localhost:3000\/api\/v1'"}},{"result":{"nanos":589171,"millis":0.589171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":1703319,"millis":1.703319,"status":"passed"},"step":{"line":43,"prefix":"Given","index":0,"text":"path 'booking\/save-booking'"}},{"result":{"nanos":955864,"millis":0.955864,"status":"passed"},"step":{"line":44,"prefix":"And","index":1,"text":"request { bookingId: '507f1f77bcf86cd799439011', userId: '507f1f77bcf86cd799439012', totalAmount: 1000 }"}},{"result":{"nanos":22141144,"millis":22.141144,"status":"passed"},"step":{"line":45,"prefix":"When","index":2,"text":"method POST"},"stepLog":"17:59:36.419 request:\n1 > POST http:\/\/localhost:3000\/api\/v1\/booking\/save-booking\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 95\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.17)\n1 > Accept-Encoding: gzip,deflate\n{\"bookingId\":\"507f1f77bcf86cd799439011\",\"userId\":\"507f1f77bcf86cd799439012\",\"totalAmount\":1000}\n\n17:59:36.432 response time in milliseconds: 11\n1 < 401\n1 < X-Powered-By: Express\n1 < Vary: Origin\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 85\n1 < ETag: W\/\"55-xtRwqy\/to2gB\/FDHJYhC19EVdRo\"\n1 < Date: Sun, 14 Dec 2025 12:59:36 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"error\",\"message\":\"Unauthorized\",\"errors\":[\"Authentication token missing\"]}\n\n"},{"result":{"nanos":11254,"millis":0.011254,"status":"passed"},"step":{"line":46,"prefix":"Then","index":3,"text":"status 401"}}],"executorName":"main","line":42,"name":"Save booking details - Unauthenticated (should fail)","description":"","durationMillis":26.177889,"startTime":1765717176406,"failed":false,"refId":"[4:42]","endTime":1765717176434,"exampleIndex":-1}],"callDepth":0,"name":"Booking Management API Tests","description":"","resultDate":"2025-12-14 05:59:36 pm","durationMillis":1622.791343,"passedCount":2}