{"failedCount":2,"prefixedPath":"classpath:com\/travelbooking\/features\/FlightManagement.feature","packageQualifiedName":"com.travelbooking.features.FlightManagement","loopIndex":-1,"relativePath":"com\/travelbooking\/features\/FlightManagement.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":2214429,"millis":2.214429,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'http:\/\/localhost:3000\/api\/v1'"}},{"result":{"nanos":308370,"millis":0.30837,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":578396,"millis":0.578396,"status":"passed"},"step":{"line":8,"prefix":"Given","index":0,"text":"path 'flights'"}},{"result":{"nanos":12732847,"millis":12.732847,"status":"passed"},"step":{"line":9,"prefix":"When","index":1,"text":"method GET"},"stepLog":"17:59:38.138 request:\n1 > GET http:\/\/localhost:3000\/api\/v1\/flights\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.17)\n1 > Accept-Encoding: gzip,deflate\n\n\n17:59:38.147 response time in milliseconds: 9\n1 < 200\n1 < X-Powered-By: Express\n1 < Vary: Origin\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 59\n1 < ETag: W\/\"3b-nry9ldEO5euL52V9dBoOINgj5hw\"\n1 < Date: Sun, 14 Dec 2025 12:59:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"success\",\"message\":\"No flights found\",\"data\":[]}\n\n"},{"result":{"nanos":15771,"millis":0.015771,"status":"passed"},"step":{"line":10,"prefix":"Then","index":2,"text":"status 200"}},{"result":{"nanos":2553392,"millis":2.553392,"status":"passed"},"step":{"line":11,"prefix":"And","index":3,"text":"match response.data == '#[]'"}}],"executorName":"main","line":7,"name":"Get all flights - Public access","description":"","durationMillis":18.403205,"startTime":1765717178133,"failed":false,"refId":"[1:7]","endTime":1765717178152,"exampleIndex":-1},{"sectionIndex":1,"stepResults":[{"result":{"nanos":374686,"millis":0.374686,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'http:\/\/localhost:3000\/api\/v1'"}},{"result":{"nanos":182513,"millis":0.182513,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":3213866,"millis":3.213866,"status":"passed"},"step":{"line":15,"prefix":"*","index":0,"text":"def adminTimestamp = new java.util.Date().getTime()"}},{"result":{"nanos":2190074,"millis":2.190074,"status":"passed"},"step":{"line":16,"prefix":"*","index":1,"text":"def adminEmail = 'admin' + adminTimestamp.toString() + '@example.com'"}},{"result":{"nanos":577646,"millis":0.577646,"status":"passed"},"step":{"line":17,"prefix":"Given","index":2,"text":"path 'users\/register'"}},{"result":{"nanos":456772,"millis":0.456772,"status":"passed"},"step":{"line":18,"prefix":"And","index":3,"text":"request { fullname: 'Admin User', email: adminEmail, password: 'Admin@123456', isVerified: true, role: 'admin' }"}},{"result":{"nanos":128548802,"millis":128.548802,"status":"passed"},"step":{"line":19,"prefix":"When","index":4,"text":"method POST"},"stepLog":"17:59:38.193 request:\n1 > POST http:\/\/localhost:3000\/api\/v1\/users\/register\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 105\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.17)\n1 > Accept-Encoding: gzip,deflate\n{\"fullname\":\"Admin User\",\"email\":\"adminEmail\",\"password\":\"Admin@123456\",\"isVerified\":true,\"role\":\"admin\"}\n\n17:59:38.317 response time in milliseconds: 123\n1 < 500\n1 < X-Powered-By: Express\n1 < Vary: Origin\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 135\n1 < ETag: W\/\"87-d+ngQweWPXbYQJTFC0\/+lAtAd4U\"\n1 < Date: Sun, 14 Dec 2025 12:59:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\n\n"},{"result":{"nanos":129197,"errorMessage":"status code was: 500, expected: 201, response time in milliseconds: 123, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/FlightManagement.feature:20","millis":0.129197,"status":"failed"},"step":{"line":20,"prefix":"Then","index":5,"text":"status 201"},"stepLog":"17:59:38.319 classpath:com\/travelbooking\/features\/FlightManagement.feature:20\nThen status 201\nstatus code was: 500, expected: 201, response time in milliseconds: 123, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/FlightManagement.feature:20\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":21,"prefix":"Given","index":6,"text":"path 'users\/login'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":22,"prefix":"And","index":7,"text":"request { email: adminEmail, password: 'Admin@123456' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"When","index":8,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"*","index":9,"text":"def adminToken = response.data.token || ''"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":25,"prefix":"Given","index":10,"text":"path 'flights'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":26,"prefix":"And","index":11,"text":"header Authorization = 'Bearer ' + adminToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":27,"prefix":"And","index":12,"text":"request { flights: [{ airline: 'Test Airlines', from: 'New York', to: 'London', departureDate: '2024-12-25', arrivalDate: '2024-12-25', price: 500, availableSeats: 100 }] }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":28,"prefix":"When","index":13,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":29,"prefix":"Then","index":14,"text":"status 201"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":30,"prefix":"And","index":15,"text":"match response.message contains 'successfully'"}}],"line":14,"description":"","durationMillis":135.673556,"failed":true,"error":"status code was: 500, expected: 201, response time in milliseconds: 123, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/FlightManagement.feature:20","executorName":"main","name":"Add flights - Admin only","startTime":1765717178182,"refId":"[2:14]","endTime":1765717178320,"exampleIndex":-1},{"sectionIndex":2,"stepResults":[{"result":{"nanos":347367,"millis":0.347367,"status":"passed"},"step":{"background":true,"line":4,"prefix":"*","index":0,"text":"def baseUrl = 'http:\/\/localhost:3000\/api\/v1'"}},{"result":{"nanos":153445,"millis":0.153445,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":1,"text":"url baseUrl"}},{"result":{"nanos":2632354,"millis":2.632354,"status":"passed"},"step":{"line":33,"prefix":"*","index":0,"text":"def userTimestamp = new java.util.Date().getTime()"}},{"result":{"nanos":1180887,"millis":1.180887,"status":"passed"},"step":{"line":34,"prefix":"*","index":1,"text":"def userEmail = 'user' + userTimestamp.toString() + '@example.com'"}},{"result":{"nanos":104717,"millis":0.104717,"status":"passed"},"step":{"line":35,"prefix":"Given","index":2,"text":"path 'users\/register'"}},{"result":{"nanos":518773,"millis":0.518773,"status":"passed"},"step":{"line":36,"prefix":"And","index":3,"text":"request { fullname: 'Regular User', email: userEmail, password: 'User@123456', isVerified: true }"}},{"result":{"nanos":181293502,"millis":181.293502,"status":"passed"},"step":{"line":37,"prefix":"When","index":4,"text":"method POST"},"stepLog":"17:59:38.352 request:\n1 > POST http:\/\/localhost:3000\/api\/v1\/users\/register\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 90\n1 > Host: localhost:3000\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/17.0.17)\n1 > Accept-Encoding: gzip,deflate\n{\"fullname\":\"Regular User\",\"email\":\"userEmail\",\"password\":\"User@123456\",\"isVerified\":true}\n\n17:59:38.528 response time in milliseconds: 175\n1 < 500\n1 < X-Powered-By: Express\n1 < Vary: Origin\n1 < Access-Control-Allow-Credentials: true\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 135\n1 < ETag: W\/\"87-d+ngQweWPXbYQJTFC0\/+lAtAd4U\"\n1 < Date: Sun, 14 Dec 2025 12:59:38 GMT\n1 < Connection: keep-alive\n1 < Keep-Alive: timeout=5\n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\n\n"},{"result":{"nanos":103738,"errorMessage":"status code was: 500, expected: 201, response time in milliseconds: 175, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/FlightManagement.feature:38","millis":0.103738,"status":"failed"},"step":{"line":38,"prefix":"Then","index":5,"text":"status 201"},"stepLog":"17:59:38.530 classpath:com\/travelbooking\/features\/FlightManagement.feature:38\nThen status 201\nstatus code was: 500, expected: 201, response time in milliseconds: 175, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/FlightManagement.feature:38\n"},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"Given","index":6,"text":"path 'users\/login'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"And","index":7,"text":"request { email: userEmail, password: 'User@123456' }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"When","index":8,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"*","index":9,"text":"def userToken = response.data.token || ''"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"Given","index":10,"text":"path 'flights'"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":44,"prefix":"And","index":11,"text":"header Authorization = 'Bearer ' + userToken"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":45,"prefix":"And","index":12,"text":"request { flights: [{ airline: 'Test Airlines', from: 'New York', to: 'London', departureDate: '2024-12-25', arrivalDate: '2024-12-25', price: 500, availableSeats: 100 }] }"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":46,"prefix":"When","index":13,"text":"method POST"}},{"result":{"nanos":0,"millis":0.0,"status":"skipped"},"step":{"line":47,"prefix":"Then","index":14,"text":"status 403"}}],"line":32,"description":"","durationMillis":186.334783,"failed":true,"error":"status code was: 500, expected: 201, response time in milliseconds: 175, url: http:\/\/localhost:3000\/api\/v1\/users\/register, response: \n{\"status\":\"error\",\"message\":\"Failed to register user\",\"errors\":[\"User validation failed: email: Please provide a valid email address\"]}\nclasspath:com\/travelbooking\/features\/FlightManagement.feature:38","executorName":"main","name":"Add flights - Non-admin user (should fail)","startTime":1765717178342,"refId":"[3:32]","endTime":1765717178530,"exampleIndex":-1}],"callDepth":0,"name":"Flight Management API Tests","description":"","resultDate":"2025-12-14 05:59:38 pm","durationMillis":340.411544,"passedCount":1}